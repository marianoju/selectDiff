I use spring ws. How could I add this &lt;?xml version="1.0" encoding="UTF-8"?&gt; to my first line in the response? I tried this block of code but It doesn't work. Could anybody help me? @Bean (name = "messageFactory") public SaajSoapMessageFactory messageFactory () { Map&lt;String, Object&gt; props = new HashMap&lt;&gt;(); props.put(SOAPMessage.WRITE_XML_DECLARATION, Boolean.TRUE); SaajSoapMessageFactory msgFactory = new SaajSoapMessageFactory(); msgFactory.setMessageProperties(props); msgFactory.setSoapVersion(org.springframework.ws.soap.SoapVersion.SOAP_11); return msgFactory; } 